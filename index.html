<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Main Page</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	<link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Russo+One&display=swap" rel="stylesheet">
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script>
		$(document).ready(function() {
		  var images = [
			["image1a.png", "image1b.png"],
			["image2a.png", "image2b.png"],
			["image3a.png", "image3b.png"],
			["image4a.png", "image4b.png"],
			["image5a.png", "image5b.png"]
		  ];
		  var activeIndex = 0;

		  $('.image-slider img:eq(0)').attr('src', images[0][1]);
		  $('.image-slider img:eq(1)').attr('src', images[1][0]);
		  $('.image-slider img:eq(2)').attr('src', images[2][0]);
		  $('.image-slider img:eq(3)').attr('src', images[3][0]);
		  $('.image-slider img:eq(4)').attr('src', images[4][0]);

		  $('.image-slider img').on('mouseenter', function() {
			var index = $(this).index();
			if (index != activeIndex) {
			  $(this).attr('src', images[index][1]);
			}
		  });

		  $('.image-slider img').on('mouseleave', function() {
			var index = $(this).index();
			if (index != activeIndex) {
			  $(this).attr('src', images[index][0]);
			}
		  });

		  function switchPage(index) {
			  if (index === -1) {
				return;
			  }
			  pauseVideos(); // Add this line to pause the videos
			  toggleTransition(true);
			  var newPosition = (-1 * index * 100) + "vw";
			  $(".ribbon").css("transform", "translateX(" + newPosition + ")");
			  if (activeIndex !== -1) {
				$(".image-slider img:eq(" + activeIndex + ")").attr("src", images[activeIndex][0]);
			  }
			  $(".image-slider img:eq(" + index + ")").attr("src", images[index][1]);
			  activeIndex = index;			  
		  }

		  $('.image-slider img').on('click', function() {
			var index = $(this).index();
			if (index != activeIndex) {
			  switchPage(index);
			}
		  });

		  $('.left-arrow .arrow-overlay').on('click', function() {
			  if (activeIndex > 0) {
				switchPage(activeIndex - 1);
			  }
			});

			$('.right-arrow .arrow-overlay').on('click', function() {
			  if (activeIndex < images.length - 1) {
				switchPage(activeIndex + 1);
			  }
			});
			
			var transitionTimeoutId;
			var redrawIntervalId;

			function toggleTransition(enable) {
			  if (enable) {
				$('.ribbon').css('transition', 'transform 0.5s ease-in-out');
				clearTimeout(transitionTimeoutId); // Clear any previous timeout
				transitionTimeoutId = setTimeout(function() {
				  toggleTransition(false);
				}, 500); // The duration of the transition in milliseconds

				// Set the redraw interval during the ribbon transition
				redrawIntervalId = setInterval(redrawYoutubeContainer, 16); // Approximately 60 FPS
			  } else {
				$('.ribbon').css('transition', 'none');
				clearInterval(redrawIntervalId); // Clear the redraw interval
			  }
			}

			function redrawYoutubeContainer() {
			  $(".video-container").css("opacity", function (index, currentOpacity) {
				return currentOpacity == 1 ? 0.999 : 1;
			  });
			}

		   // YouTube video handling
			var youtubeVideoIds = [
			  "aiFt6kaaomU", // Star Cluck
			  "aBHRRuYBLr8", // Fury Mallard
			];
			var players = [];
			
			var videoNameMap = {
				"starcluck": 0,
				"furymallard": 1,
			  };

			function onYouTubeIframeAPIReady() {
				//console.log("onYouTubeIframeAPIReady()");
				youtubeVideoIds.forEach(function (videoId, index) {
				  var name = Object.keys(videoNameMap).find(key => videoNameMap[key] === index);
				  players[index] = new YT.Player("youtube-" + name, {
					videoId: videoId,
				  });
				});
			  }

			function pauseVideos() {
			  players.forEach(function (player) {
				//console.log("pauseVideos()");
				if (player && player.pauseVideo && typeof player.pauseVideo === 'function') {
				  player.pauseVideo();
				}
			  });
			}

			window.onYouTubeIframeAPIReady = onYouTubeIframeAPIReady;
		});

	</script>
	<script src="https://www.youtube.com/iframe_api"></script>
</head>
<body>
  <div class="top-blank"> </div>
  <div class="content-wrapper">

	<div class="main">
		<div class="arrow left-arrow"> 
			&larr; 
				<div class="arrow-overlay"></div>
		</div>
		<div class="arrow right-arrow"> 
			&rarr; 
				<div class="arrow-overlay"></div>
		</div>
		<div class="ribbon-wrapper">
			<div class="ribbon">
			  <div>
				<!-- Page 1 content -->
				<div class="page-content">
				  <h1>Game Developer</h1>
				  <div class="intro-text">
					  <p>Hi, I'm <span class="highlight">Vincent J. Liguori</span>, a skilled game developer and software engineer with over 10 years of experience in the industry. My expertise lies in developing game engines, plugins, and tools for Unity 3D, C++, C#, and Lua.</p>
					  <p>Throughout my career, I've worked with several companies to develop engaging and immersive games that captivate audiences. I'm experienced in collaborating with teams of designers, artists, and programmers to create top-quality games that meet and exceed expectations. My strong problem-solving skills and ability to work under tight deadlines have allowed me to consistently deliver high-quality results.</p>
					  <p>I hold a Bachelor's and Master's degree in Computer Science and have been certified in C++ programming and information systems security. My education, combined with my years of experience in the industry, make me a valuable asset to any game development team.</p>
				  </div>
				</div>
			  </div>
			  <div>
				<!-- Page 2 content -->
				<div class="page-content">
				  <h1>Page 2</h1>
				  <div class="media-container">
					  <img src="Me2.jpeg" alt="Page 2">
					  <p>This is the content for Page 2.</p>
					</div>
				</div>
			  </div>
			  <div>
				<!-- Page 3 content -->
				<div class="page-content">
				  <h1>Page 3 Title</h1>
				  <div class="video-container">
					  <video src="page3-video.mp4" controls></video>
					  <p>Page 3 content goes here.</p>
					</div>
				</div>
			  </div>
			  <div>
				<!-- Page 4 content -->
				<div class="page-content">
				  <h1>Page 4</h1>
				  <div class="video-container">
					<iframe id="youtube-starcluck" width="560" height="315" src="https://www.youtube.com/embed/aiFt6kaaomU?enablejsapi=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
					  <p>Star Cluck.</p>
					</div>
				</div>
			  </div>
			  <div>
				<!-- Page 5 content -->
				<div class="page-content">
				  <h1>Page 5</h1>
				  <div class="video-container">
					<iframe id="youtube-furymallard" width="560" height="315" src="https://www.youtube.com/embed/aBHRRuYBLr8?enablejsapi=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
					  <p>Fury Mallard.</p>
					</div>
				</div>
			  </div>
			</div>
		</div>
		<div class="bottom-image-slider">

			<div class="image-slider">
			  <img src="image1b.png">
			  <img src="image2a.png">
			  <img src="image3a.png">
			  <img src="image4a.png">
			  <img src="image5a.png">

			  <!-- Add all your image sources here -->
			</div>
			
		</div>
    </div>
  </div>

  <div class="footer">
    <!-- Add your footer content here -->
  </div>
</body>
</html>

